一定要做好备份工作，特别是对于新手来说，如果修改的地方多了，你也会搞晕的，所以修改一个文件前一定要备份

一，修改文件来设置网络连接

1，自动获取IP的方法

自动获取根4个文件有关系

a），/etc/sysconfig/network-scripts/ifcfg-eth0

[zhangy@localhost network-scripts]$ cat ifcfg-eth0

# Marvell Technology Group Ltd. 88E8039 PCI-E Fast Ethernet Controller

DEVICE=eth0                               //由eth0来启动

BOOTPROTO=dhcp                     //获取IP的方式是自动获取，static是固定IP，none是手动

HWADDR=00:16:D3:A2:F6:09       //网卡的物理地址

IPV6INIT=yes                              //是否支持IP6

IPV6_AUTOCONF=yes                //IP6是否自动配置

ONBOOT=yes                           //启动时网络接口是否有效

b），/etc/sysconfig/network

[zhangy@localhost network-scripts]$ cat /etc/sysconfig/network

NETWORKING=yes                                 //网络是否可用

NETWORKING_IPV6=yes

HOSTNAME=localhost.localdomain //主机名，主机名在/etc/hosts里面配置

c），/etc/hosts

[zhangy@localhost network-scripts]$ cat /etc/hosts

# Do not remove the following line, or various programs

# that require network functionality will fail.

127.0.0.1               localhost.localdomain localhost     //根/etc/resolv.conf中search要对应，localhost.localdomain

::1             localhost6.localdomain6 localhost6

d），/etc/resolv.conf

[zhangy@localhost network-scripts]$ cat /etc/resolv.conf

; generated by /sbin/dhclient-script

nameserver 192.168.1.1      //DNS服务器对应的IP

search localdomain //搜索要找的域名，在/etc/hosts里面设定的有

2,手动设定

手动设定只要修改三个文件就可以了

a），/etc/sysconfig/network

[zhangy@localhost network-scripts]$ cat /etc/sysconfig/network

NETWORKING=yes

NETWORKING_IPV6=yes

#HOSTNAME=localhost.localdomain        //为什么要把主机名注释掉，一般先解析主机名或者域名，再解析DNS

GATEWAY=192.168.1.1                            //加上网关

b），/etc/sysconfig/network-scripts/ifcfg-eth0

[zhangy@localhost network-scripts]$ cat ifcfg-eth0

# Marvell Technology Group Ltd. 88E8039 PCI-E Fast Ethernet Controller

DEVICE=eth0

BOOTPROTO=none                         //启动为手动

BROADCAST=192.168.1.255

HWADDR=00:16:D3:A2:F6:09

IPADDR=192.168.1.108                   //设置的IP

NETMASK=255.255.255.0                //子网掩码

NETWORK=192.168.1.0

IPV6INIT=yes

IPV6_AUTOCONF=yes

ONBOOT=yes

TYPE=Ethernet                                //网络类型

c），/etc/resolv.conf

[zhangy@localhost network-scripts]$ cat /etc/resolv.conf

#; generated by /sbin/dhclient-script

#nameserver 192.168.1.1

#search localdomain

nameserver 116.228.111.118             //加上主DNS

nameserver 180.168.255.18              //加上次DNS

二，命令方法

netconfig是网络管理工具，RH装完机后，系统中就会有netconfig。虽然centos也是由RH演化来的，但是没有啊。不过没关系我们可能自己来装。

[zhangy@localhost download]$ wget ftp://ftp.nluug.nl/pub/os/Linux/distr/CentOS/5.0/os/i386/CentOS/netconfig-0.8.24-1.2.2.1.i386.rpm

[zhangy@localhost download]$ rpm -ivh netconfig-0.8.24-1.2.2.1.i386.rpm

error: can't create transaction lock on /var/lib/rpm/__db.000

[zhangy@localhost download]$ su root                   //别忘了要用root账户，不然就会报上面的错误

口令：

[root@localhost download]# rpm -ivh netconfig-0.8.24-1.2.2.1.i386.rpm

Preparing...                ########################################### [100%]

1:netconfig              ########################################### [100%]

[root@localhost download]# whereis netconfig     //查看一下netconfig在什么地方

netconfig: /usr/sbin/netconfig
查看复制打印?

    [root@localhost]# netconfig --help  
     --bootproto=(dhcp|bootp|none) Boot protocol to use //获取IP的方式，dhcp是自，bootp固定IP，none手动  
     --gateway=STRING Network gateway //指定网关  
     --ip=STRING IP address //指定IP地址  
     --nameserver=STRING Nameserver  //指定DNS  
     --netmask=STRING Netmask //指定子网掩码  
     --hostname=STRING Hostname  //指定主机名  
     --domain=STRING Domain name  //指定域名  
     -d, --device=STRING Network device  //指定网络设备  
     --nodns No DNS lookups  //没有DNS查询  
     --hwaddr=STRING Ethernet hardware address //指定网卡的物理地址  
     --description=STRING Description of the device //描述  
     Help options:  
     -?, --help Show this help message  
     --usage Display brief usage message  

1，自动获取IP

[root@localhost download]#/usr/sbin/netconfig -d eth0 --bootproto=dhcp

2,手动设置IP

[root@localhost download]#/usr/sbin/netconfig -d eth0 --bootproto=none --ip=192.168.1.108 --netmask=255.255.255.0 --gateway=192.168.1.1 --nameserver=116.228.111.118

三，配置中遇到的一些问题
